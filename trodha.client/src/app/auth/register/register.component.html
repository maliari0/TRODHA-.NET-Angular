<div class="register-container">
  <h2>Kayıt Ol</h2>

  <div *ngIf="error" class="alert alert-danger">{{error}}</div>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="firstName">Ad</label>
          <input type="text" formControlName="firstName" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['firstName'].errors }" />
          <div *ngIf="submitted && f['firstName'].errors" class="invalid-feedback">
            <div *ngIf="f['firstName'].errors['required']">Ad alanı gerekli</div>
            <div *ngIf="f['firstName'].errors['minlength']">Ad en az 2 karakter olmalıdır</div>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="lastName">Soyad</label>
          <input type="text" formControlName="lastName" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['lastName'].errors }" />
          <div *ngIf="submitted && f['lastName'].errors" class="invalid-feedback">
            <div *ngIf="f['lastName'].errors['required']">Soyad alanı gerekli</div>
            <div *ngIf="f['lastName'].errors['minlength']">Soyad en az 2 karakter olmalıdır</div>
          </div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">E-posta</label>
      <input type="email" formControlName="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['email'].errors }" />
      <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
        <div *ngIf="f['email'].errors['required']">E-posta alanı gerekli</div>
        <div *ngIf="f['email'].errors['email']">Geçerli bir e-posta adresi girin</div>
      </div>
    </div>

    <div class="form-group">
      <label for="birthDate">Doğum Tarihi</label>
      <input type="date" formControlName="birthDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['birthDate'].errors }" />
      <div *ngIf="submitted && f['birthDate'].errors" class="invalid-feedback">
        <div *ngIf="f['birthDate'].errors['required']">Doğum tarihi gerekli</div>
      </div>
    </div>

    <div class="form-group">
      <label for="password">Şifre</label>
      <input type="password" formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['password'].errors }" />
      <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
        <div *ngIf="f['password'].errors['required']">Şifre alanı gerekli</div>
        <div *ngIf="f['password'].errors['minlength']">Şifre en az 8 karakter olmalıdır</div>
        <div *ngIf="f['password'].errors['passwordStrength']">Şifre en az bir büyük harf, bir küçük harf, bir rakam ve bir özel karakter (!&#64;#$%^&*) içermelidir</div>
      </div>
      <!-- Password guidelines -->
      <div class="password-guidelines mt-2 small text-muted">
        <p>Şifreniz aşağıdaki kriterlere uygun olmalıdır:</p>
        <ul>
          <li>En az 8 karakter uzunluğunda</li>
          <li>En az bir büyük harf (A-Z)</li>
          <li>En az bir küçük harf (a-z)</li>
          <li>En az bir rakam (0-9)</li>
          <li>En az bir özel karakter (!&#64;#$%^&*)</li>
        </ul>
      </div>
    </div>

    <div class="form-group">
      <label for="confirmPassword">Şifre Tekrarı</label>
      <input type="password" formControlName="confirmPassword" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['confirmPassword'].errors }" />
      <div *ngIf="submitted && f['confirmPassword'].errors" class="invalid-feedback">
        <div *ngIf="f['confirmPassword'].errors['required']">Şifre tekrarı gerekli</div>
        <div *ngIf="f['confirmPassword'].errors['passwordMismatch']">Şifreler eşleşmiyor</div>
      </div>
    </div>

    <div class="form-group">
      <button [disabled]="loading" class="btn btn-primary">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        Kayıt Ol
      </button>
    </div>

    <div class="login-link">
      Zaten bir hesabınız var mı? <a routerLink="/login">Giriş Yapın</a>
    </div>
  </form>
</div>

